(this["webpackJsonppecode_test-task"]=this["webpackJsonppecode_test-task"]||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),s=n(9),i=n.n(s),r=(n(88),n(46)),o=(n(89),n(90),n(2)),l=function(e){var t=e.title,n=e.path;return Object(o.jsx)(r.b,{to:n,children:Object(o.jsx)("div",{className:"tab",children:t})})},j=function(){return Object(o.jsxs)("div",{className:"navigation",children:[Object(o.jsx)(l,{title:"Characters",path:"/characters"}),Object(o.jsx)(l,{title:"Episodes",path:"/episodes"}),Object(o.jsx)(l,{title:"Locations",path:"/locations"}),Object(o.jsx)(l,{title:"My watch list",path:"/list"})]})},u=n(12),d=n(7),b=n(28),m=n(19),h="https://rickandmortyapi.com/api/character",O="https://rickandmortyapi.com/api/location",f="https://rickandmortyapi.com/api/episode",p=n(27),v=n.n(p),g=n(36),x="SET_CHARACTERS",_="SET_ACTIVE_CHARACTER",N="SET_EPISODES",C="SET_LOCATIONS",w="SET_WATCHLIST",y="ADD_WATCHITEM",I="DELETE_WATCHITEM",E="TOGGLE_COMPLETE",k=function(e){return{type:x,characters:e}},T=n(21),P=function(e){return e.characters},S=Object(T.a)(P,(function(e){return e.info||{}})),F=Object(T.a)(P,(function(e){return e.items||[]})),A=Object(T.a)(P,(function(e){return e.activeCharacterId||null})),W=Object(T.a)(F,A,(function(e,t){return e.find((function(e){return e.id===t}))||{}})),D=(n(98),{Alive:"rgb(85, 204, 68)",Dead:"rgb(214, 61, 46)",unknown:"rgb(158, 158, 158)"}),L=function(e){var t=e.item,n=e.onClick;return Object(o.jsxs)("div",{className:"list__item",onClick:function(){return n(t.id)},children:[Object(o.jsx)("div",{className:"item__image",style:{backgroundImage:"url(".concat(t.image,")")}}),Object(o.jsxs)("div",{className:"item__content",children:[Object(o.jsx)("h2",{className:"item__name",children:t.name}),Object(o.jsxs)("div",{className:"item__info",children:[Object(o.jsx)("div",{className:"item__indicator",style:{backgroundColor:D[t.status]}}),Object(o.jsxs)("span",{className:"item__status",children:[t.status," - ",t.species]})]})]})]})},M=n(138),R=n(130),B=Object(R.a)((function(e){return{root:{display:"flex",justifyContent:"center",marginTop:e.spacing(3),marginBottom:e.spacing(5)}}})),H=function(e){var t=e.pages,n=e.changePage,a=e.activePage,c=B();return Object(o.jsx)(M.a,{classes:{root:c.root},count:t,color:"primary",page:a,onChange:function(e,t){return n(t)}})},G=function(e){var t=e.items,n=e.setActiveCharacter,a=e.info,c=e.changePage,s=e.activePage;return Object(o.jsxs)("div",{className:"list",children:[t.map((function(e){return Object(o.jsx)(L,{item:e,onClick:n},e.id)})),0===t.length&&Object(o.jsx)("div",{className:"list__empty",children:Object(o.jsx)("h1",{children:"No items found"})}),Object(o.jsx)(H,{pages:a.pages,changePage:c,activePage:s})]})},J=n(139),U=function(e){var t,n,a=e.isOpened,c=e.onClose,s=e.activeCharacter;return Object(o.jsx)(J.a,{open:a,onClose:c,disableAutoFocus:!0,disableEnforceFocus:!0,children:Object(o.jsxs)("div",{className:"modal",children:[Object(o.jsx)("div",{className:"modal__image",style:{backgroundImage:"url(".concat(s.image,")")}}),Object(o.jsx)("h2",{className:"modal__name",children:s.name}),Object(o.jsxs)("div",{className:"item__info",children:[Object(o.jsx)("div",{className:"item__indicator",style:{backgroundColor:D[s.status]}}),Object(o.jsxs)("span",{className:"modal__status",children:[s.status," - ",s.species," - ",s.gender]})]}),Object(o.jsx)("p",{className:"modal__text",children:"Last known location:"}),Object(o.jsx)("p",{className:"modal__location",children:null===(t=s.location)||void 0===t?void 0:t.name}),Object(o.jsx)("p",{className:"modal__text",children:"First seen in:"}),Object(o.jsx)("p",{className:"modal__location",children:null===(n=s.origin)||void 0===n?void 0:n.name})]})})},V=n(23),q=n(134),z=n(141),K=n(137),Q=n(142),X=n(143),Y=Object(R.a)((function(e){return{root:{display:"flex",flexDirection:"column",margin:e.spacing(3),position:"absolute",left:0},formControl:{margin:e.spacing(1),minWidth:120},selectors:{marginBottom:10}}})),Z=function(e){var t=e.setFilters,n=e.filters,a=Y(),c=function(e){var a,c;e.target.value!==n[e.target.name]?t(Object(d.a)(Object(d.a)({},n),{},(a={},Object(V.a)(a,e.target.name,e.target.value),Object(V.a)(a,"page",1),a))):t(Object(d.a)(Object(d.a)({},n),{},(c={},Object(V.a)(c,e.target.name,""),Object(V.a)(c,"page",1),c)))};return Object(o.jsxs)("div",{className:a.root,children:[Object(o.jsxs)("div",{className:a.selectors,children:[Object(o.jsxs)(q.a,{className:a.formControl,children:[Object(o.jsx)(z.a,{children:"Status"}),Object(o.jsxs)(K.a,{value:n.status,onChange:c,name:"status",children:[Object(o.jsx)(Q.a,{value:"",children:"None"}),Object(o.jsx)(Q.a,{value:"alive",children:"Alive"}),Object(o.jsx)(Q.a,{value:"dead",children:"Dead"}),Object(o.jsx)(Q.a,{value:"unknown",children:"Unknown"})]})]}),Object(o.jsxs)(q.a,{className:a.formControl,children:[Object(o.jsx)(z.a,{children:"Gender"}),Object(o.jsxs)(K.a,{value:n.gender,onChange:c,name:"gender",children:[Object(o.jsx)(Q.a,{value:"",children:"None"}),Object(o.jsx)(Q.a,{value:"female",children:"Female"}),Object(o.jsx)(Q.a,{value:"male",children:"Male"}),Object(o.jsx)(Q.a,{value:"genderless",children:"Genderless"}),Object(o.jsx)(Q.a,{value:"unknown",children:"Unknown"})]})]})]}),Object(o.jsx)(X.a,{name:"species",label:"Species",variant:"outlined",onChange:c,value:n.species})]})},$=function(e){var t=[];for(var n in e)t.push(encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return"/?"+t.join("&")},ee={getCharacters:function(e){return function(){var t=Object(g.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e).then((function(e){return e.json()}));case 2:a=t.sent,n(k(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setActiveCharacter:function(e){return{type:_,id:e}}},te=Object(m.b)((function(e){return{info:S(e),items:F(e),activeCharacterId:A(e),activeCharacter:W(e)}}),ee)((function(e){var t=e.getCharacters,n=e.info,c=e.items,s=e.activeCharacterId,i=e.setActiveCharacter,r=e.activeCharacter,l=Object(a.useState)({page:1,status:"",species:"",gender:""}),j=Object(b.a)(l,2),u=j[0],m=j[1];return Object(a.useEffect)((function(){var e=$(u);t(h+e)}),[t,u]),Object(o.jsxs)("div",{className:"page",children:[Object(o.jsx)(Z,{setFilters:m,filters:u}),Object(o.jsx)(U,{activeCharacter:r,isOpened:!!s,onClose:function(){return i(null)}}),Object(o.jsx)(G,{items:c,setActiveCharacter:i,info:n,changePage:function(e){m(Object(d.a)(Object(d.a)({},u),{},{page:e})),window.scrollTo(0,0)},activePage:u.page})]})})),ne=function(e){return e.episodes},ae=Object(T.a)(ne,(function(e){return e.info||{}})),ce=Object(T.a)(ne,(function(e){return e.items||[]})),se=function(e){return{type:N,episodes:e}},ie=(n(99),Object(R.a)((function(e){return{textField:{width:"50vw",marginBottom:15}}}))),re=function(e){var t=e.filters,n=e.setFilters,a=ie();return Object(o.jsx)(X.a,{classes:{root:a.textField},name:"name",label:"Name",variant:"outlined",onChange:function(e){n({name:e.target.value,page:1})},value:t.name})},oe=function(e){var t=e.items,n=e.changePage,a=e.info,c=e.activePage,s=e.filters,i=e.setFilters;return Object(o.jsxs)("div",{className:"episodes",children:[Object(o.jsx)(re,{filters:s,setFilters:i}),0!==t.length?Object(o.jsx)("div",{className:"episodes__list",children:t.map((function(e){return Object(o.jsxs)("div",{className:"episodes__item",children:[Object(o.jsx)("div",{className:"episodes__number",children:e.id}),Object(o.jsx)("h2",{className:"episodes__name",children:e.name}),Object(o.jsxs)("div",{className:"episodes__info",children:[Object(o.jsx)("span",{children:e.episode}),Object(o.jsx)("span",{children:e.air_date})]})]},e.id)}))}):Object(o.jsx)("div",{className:"list__empty",children:Object(o.jsx)("h1",{children:"No items found"})}),Object(o.jsx)(H,{pages:a.pages,changePage:n,activePage:c})]})},le={getEpisodes:function(e){return function(){var t=Object(g.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e).then((function(e){return e.json()}));case 2:a=t.sent,n(se(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},je=Object(m.b)((function(e){return{info:ae(e),items:ce(e)}}),le)((function(e){var t=e.getEpisodes,n=e.items,c=e.info,s=Object(a.useState)({page:1,name:""}),i=Object(b.a)(s,2),r=i[0],l=i[1];return Object(a.useEffect)((function(){var e=$(r);t(f+e)}),[t,r]),Object(o.jsx)("div",{className:"page",children:Object(o.jsx)(oe,{items:n,info:c,activePage:r.page,changePage:function(e){l(Object(d.a)(Object(d.a)({},r),{},{page:e})),window.scrollTo(0,0)},filters:r,setFilters:l})})})),ue=function(e){return e.locations},de=Object(T.a)(ue,(function(e){return e.info||{}})),be=Object(T.a)(ue,(function(e){return e.items||[]})),me=function(e){return{type:C,locations:e}},he=(n(100),Object(R.a)((function(e){return{textField:{display:"flex",justifyContent:"space-between",width:"50vw",marginBottom:15}}}))),Oe=function(e){var t=e.filters,n=e.setFilters,a=he(),c=function(e){var a;n(Object(d.a)(Object(d.a)({},t),{},(a={},Object(V.a)(a,e.target.name,e.target.value),Object(V.a)(a,"page",1),a)))};return Object(o.jsxs)("div",{className:a.textField,children:[Object(o.jsx)(X.a,{name:"name",label:"Name",variant:"outlined",onChange:c,value:t.name}),Object(o.jsx)(X.a,{id:"outlined-basic",name:"type",label:"Type",variant:"outlined",onChange:c,value:t.type}),Object(o.jsx)(X.a,{id:"outlined-basic",name:"dimension",label:"Dimension",variant:"outlined",onChange:c,value:t.dimension})]})},fe=function(e){var t=e.items,n=e.changePage,a=e.info,c=e.activePage,s=e.filters,i=e.setFilters;return Object(o.jsxs)("div",{className:"locations",children:[Object(o.jsx)(Oe,{filters:s,setFilters:i}),0!==t.length?Object(o.jsx)("div",{className:"locations__list",children:t.map((function(e){return Object(o.jsxs)("div",{className:"locations__item",children:[Object(o.jsx)("div",{className:"locations__number",children:e.id}),Object(o.jsx)("h2",{className:"locations__name",children:e.name}),Object(o.jsxs)("div",{className:"locations__info",children:[Object(o.jsxs)("p",{className:"locations__text",children:["Dimension: ",Object(o.jsx)("span",{children:e.dimension})]}),Object(o.jsxs)("p",{className:"locations__text",children:["Type:  ",Object(o.jsx)("span",{children:e.type})]})]})]},e.id)}))}):Object(o.jsx)("div",{className:"list__empty",children:Object(o.jsx)("h1",{children:"No items found"})}),Object(o.jsx)(H,{pages:a.pages,changePage:n,activePage:c})]})},pe={getLocations:function(e){return function(){var t=Object(g.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e).then((function(e){return e.json()}));case 2:a=t.sent,n(me(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},ve=Object(m.b)((function(e){return{info:de(e),items:be(e)}}),pe)((function(e){var t=e.getLocations,n=e.items,c=e.info,s=Object(a.useState)({page:1,name:"",type:"",dimension:""}),i=Object(b.a)(s,2),r=i[0],l=i[1];return Object(a.useEffect)((function(){var e=$(r);t(O+e)}),[t,r]),Object(o.jsx)("div",{className:"page",children:Object(o.jsx)(fe,{items:n,info:c,activePage:r.page,changePage:function(e){l(Object(d.a)(Object(d.a)({},r),{},{page:e})),window.scrollTo(0,0)},filters:r,setFilters:l})})})),ge=(n(101),function(e){return e.watchlist}),xe=n(69),_e=n.n(xe),Ne={deleteWatchItem:function(e){return{type:I,watchItemId:e}},toggleComplete:function(e){return{type:E,watchItemId:e}}},Ce=Object(m.b)(null,Ne)((function(e){var t=e.title,n=e.id,a=e.completed,c=e.deleteWatchItem,s=e.toggleComplete;return Object(o.jsx)("li",{className:_e()({completed:a}),children:Object(o.jsxs)("div",{className:"view",children:[Object(o.jsx)("input",{type:"checkbox",className:"toggle",id:n,checked:a,onChange:function(){return s(n)}}),Object(o.jsx)("label",{htmlFor:n,children:t}),Object(o.jsx)("button",{type:"button",className:"destroy",onClick:function(){return c(n)}})]})})})),we=function(e){var t=e.watchlist;return Object(o.jsx)("ul",{className:"todo-list",children:t.map((function(e){var t=e.title,n=e.id,a=e.completed;return Object(o.jsx)(Ce,{title:t,id:n,completed:a},n)}))})},ye=function(e){var t=e.addWatchItem,n=Object(a.useState)(""),c=Object(b.a)(n,2),s=c[0],i=c[1];return Object(o.jsx)("form",{onSubmit:function(e){e.preventDefault(),""!==s.trim()&&(t({title:s,id:+new Date,completed:!1}),i(""))},children:Object(o.jsx)("input",{className:"new-todo",placeholder:"What needs to be watch?",onChange:function(e){var t=e.target;i(t.value)},value:s})})},Ie={getWatchlist:function(){return function(e){var t,n=localStorage.getItem("watch-list");n&&e((t=JSON.parse(n),{type:w,watchlist:t}))}},addWatchItem:function(e){return{type:y,watchItem:e}}},Ee=Object(m.b)((function(e){return{watchlist:ge(e)}}),Ie)((function(e){var t=e.getWatchlist,n=e.watchlist,c=e.addWatchItem;return Object(a.useEffect)((function(){t()}),[t]),Object(a.useEffect)((function(){localStorage.setItem("watch-list",JSON.stringify(n))})),Object(o.jsxs)("section",{className:"todoapp",children:[Object(o.jsx)(ye,{addWatchItem:c}),n.length>0&&Object(o.jsx)("section",{className:"main",children:Object(o.jsx)(we,{watchlist:n})})]})})),ke=function(){return Object(o.jsxs)(u.d,{children:[Object(o.jsx)(u.b,{path:"/characters",component:te}),Object(o.jsx)(u.b,{path:"/episodes",component:je}),Object(o.jsx)(u.b,{path:"/locations",component:ve}),Object(o.jsx)(u.b,{path:"/list",component:Ee}),Object(o.jsx)(u.a,{to:"/characters"})]})};var Te=function(){var e=ke();return Object(o.jsxs)(r.a,{children:[Object(o.jsx)(j,{}),e]})},Pe=n(39),Se=n(70),Fe={info:{},items:[],activeCharacterId:null},Ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(d.a)(Object(d.a)({},e),{},{info:t.characters.info,items:t.characters.results});case _:return Object(d.a)(Object(d.a)({},e),{},{activeCharacterId:t.id});default:return e}},We={info:{},items:[]},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:We,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return Object(d.a)(Object(d.a)({},e),{},{info:t.episodes.info,items:t.episodes.results});default:return e}},Le={info:{},items:[]},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C:return Object(d.a)(Object(d.a)({},e),{},{info:t.locations.info,items:t.locations.results});default:return e}},Re=n(71),Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return t.watchlist;case y:return[].concat(Object(Re.a)(e),[t.watchItem]);case I:return e.filter((function(e){return e.id!==t.watchItemId}));case E:return e.map((function(e){return e.id===t.watchItemId?Object(d.a)(Object(d.a)({},e),{},{completed:!e.completed}):e}));default:return e}},He=Object(Pe.c)({characters:Ae,episodes:De,locations:Me,watchlist:Be}),Ge=Object(Pe.d)(He,Object(Pe.a)(Se.a));i.a.render(Object(o.jsx)(c.a.StrictMode,{children:Object(o.jsx)(m.a,{store:Ge,children:Object(o.jsx)(Te,{})})}),document.getElementById("root"))},88:function(e,t,n){},89:function(e,t,n){},90:function(e,t,n){},98:function(e,t,n){},99:function(e,t,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.07c1bcaa.chunk.js.map